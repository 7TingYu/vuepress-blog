---
title: interview vue1
date: 2022-02-17
tags:
 - interview
categories:
 - 小识书屋

---

## 01-vue中组件之间的通信方式？

题目分析：vue是组件化开发框架，所以对于vue应用来说组件间的数据通信非常重要。此题主要考查大家vue基本功，对于vue基础api运用熟练度。另外一些边界知识如provide/inject/$attrs/$listeners则体现了面试者的知识面。

![image-20220220213930658](https://i.niupic.com/images/2022/02/21/9V5v.png)

思路分析：总分

1. 总述知道的所有方式
2. 按组件关系阐述使用场景


回答范例：

1. 组件通信方式大体有以下8种：

- props
- $emit/~~$on~~
- ~~$children~~/$parent
- $attrs/~~$listeners~~
- ref
- $root
- eventbus
- vuex



2. 根据组件之间关系讨论组件通信最为清晰有效

- 父子组件

  - `props`
  - `$emit`/`$on`
  - `$parent` / `$children`
  - `ref` 
  - `$attrs` / `$listeners`
- 兄弟组件

  - `$parent`
  - `eventbus`

  - `vuex`

- 跨层级关系

  - `provide`/`inject`
  - `$root`
  - `eventbus`
  - `vuex`





## 02-v-if和v-for哪个优先级更高？

分析：此题考查常识，文档中曾有[详细说明](https://cn.vuejs.org/v2/style-guide/#%E9%81%BF%E5%85%8D-v-if-%E5%92%8C-v-for-%E7%94%A8%E5%9C%A8%E4%B8%80%E8%B5%B7%E5%BF%85%E8%A6%81)；也是一个很好的实践题目，项目中经常会遇到，能够看出面试者应用能力。


思路分析：总分总模式

1. 先给出结论
2. 为什么是这样的
3. 它们能放一起吗
4. 如果不能，那应该怎样
5. 总结


回答范例：

1. 实践中不应该把v-for和v-if放⼀起 
2. 在vue2中，v-for的优先级是⾼于v-if，把它们放在⼀起，输出的渲染函数中可以看出会先执⾏循环再判断条 件，哪怕我们只渲染列表中⼀⼩部分元素，也得在每次重渲染的时候遍历整个列表，这会⽐较浪费；另外需要 注意的是在vue3中则完全相反，v-if的优先级⾼于v-for，所以v-if执⾏时，它调⽤的变量还不存在，就会导致 异常 
3. 通常有两种情况下导致我们这样做： 
   1. 为了过滤列表中的项⽬ (⽐如 v-for="user in users" v-if="user.isActive" )。此时定义⼀个计 算属性 (⽐如 activeUsers )，让其返回过滤后的列表即可（⽐如 users.filter(u=>u.isActive) ）。 
   2. 为了避免渲染本应该被隐藏的列表 (⽐如 v-for="user in users" v-if="shouldShowUsers" )。此 时把 v-if 移动⾄容器元素上 (⽐如 ul 、 ol )或者外⾯包⼀层 template 即可。 
4. ⽂档中明确指出永远不要把 v-if 和 v-for 同时⽤在同⼀个元素上，显然这是⼀个重要的注意事项。 
5. 源码⾥⾯关于代码⽣成的部分，能够清晰的看到是先处理v-if还是v-for，顺序上vue2和vue3正好相反，因此 产⽣了⼀些症状的不同，但是不管怎样都是不能把它们写在⼀起的。

源码中找答案 

v2：https://github1s.com/vuejs/vue/blob/HEAD/src/compiler/codegen/index.js#L65-L66 

v3：https://github1s.com/vuejs/core/blob/HEAD/packages/compiler-core/src/codegen.ts#L586-L587



## 03-简述 Vue 的⽣命周期以及每个阶段做的事

### 思路

1. 给出概念
2. 列举⽣命周期各阶段
3. 阐述整体流程
4. 结合实践

### 回答范例

1.每个Vue组件实例被创建后都会经过⼀系列初始化步骤，⽐如，它需要数据观测，模板编译，挂载实例到dom
上，以及数据变化时更新dom。这个过程中会运⾏叫做⽣命周期钩⼦的函数，以便⽤户在特定阶段有机会添加他们
⾃⼰的代码。

2.Vue⽣命周期总共可以分为8个阶段：创建前后, 载⼊前后, 更新前后, 销毁前后，以及⼀些特殊场景的⽣命周期。
vue3中新增了三个⽤于调试和服务端渲染场景。


